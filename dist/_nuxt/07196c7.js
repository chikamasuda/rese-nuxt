(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{573:function(t,e,n){"use strict";n.r(e);var r=n(210),o=n(461),c=n(453),d=n(477),v=n(197),l=n(195),m=n(127),_=n(57),f=n(524),h=n(478),w=n(449),k=n(64),x=n(475),C=(n(29),n(9)),A=(n(58),{layout:"admin",middleware:"adminAuth",data:function(){return{name:"",email:"",password:"",alert:!1,user:"",userLists:[]}},methods:{logout:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$cookies.get("admin_token"),e.next=3,t.$store.dispatch("adminAuth/logout",{headers:{Authorization:"Bearer ".concat(n)}});case 3:window.location.href="/admin/login";case 4:case"end":return e.stop()}}),e)})))()},getAdminInformation:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$cookies.get("admin_token"),e.next=3,t.$axios.get("/api/v1/admins",{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t.user=e.data.admin})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()},getUserInformation:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$cookies.get("admin_token"),e.next=3,t.$axios.get("/api/v1/admins/mails/user-list",{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t.userLists=e.data.users})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()}},created:function(){this.getAdminInformation(),this.getUserInformation()}}),R=n(61),component=Object(R.a)(A,(function(){var t=this,e=t._self._c;return e("div",[e(k.a,{staticClass:"pr-3",attrs:{color:"white"}},[e(x.a,{staticClass:"title ml-4"},[t._v("Rese管理画面")]),t._v(" "),e(w.a),t._v(" "),e("div",[t._v("メニュー")]),t._v(" "),e(f.a,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,c=n.attrs;return[e(r.a,t._g(t._b({attrs:{icon:""}},"v-btn",c,!1),o),[e(v.a,{},[t._v("mdi-chevron-down")])],1)]}}])},[t._v(" "),e(l.a,[e(m.a,[e(_.b,[e(v.a,{staticClass:"mr-2"},[t._v("mdi-account")]),t._v(t._s(t.user.name))],1)],1),t._v(" "),e(d.a),t._v(" "),e(m.a,{attrs:{to:"/admin",router:"",exact:""}},[e(_.b,[t._v("メール作成")])],1),t._v(" "),e(m.a,{attrs:{to:"/admin/owner"}},[e(_.b,[t._v("店舗代表者作成")])],1),t._v(" "),e(m.a,{on:{click:function(e){return t.logout()}}},[e(_.b,[t._v("ログアウト")])],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"admin-card-area"},[e("h2",{staticClass:"admin-title"},[t._v("メール送信")]),t._v(" "),e(o.a,{staticClass:"admin-card"},[e(c.b,[t._v("ユーザー一覧")]),t._v(" "),e(h.a,[e("thead",{},[e("tr",[e("th",{staticClass:"text-left",attrs:{width:"10%"}},[t._v("\n                ID\n              ")]),t._v(" "),e("th",{staticClass:"text-left",attrs:{width:"70%"}},[t._v("\n                名前\n              ")]),t._v(" "),e("th",{staticClass:"text-left",attrs:{width:"20%"}})])]),t._v(" "),e("tbody",t._l(t.userLists,(function(n){return e("tr",{key:n.id,staticClass:"pb-5 link-items"},[e("td",[t._v(t._s(n.id))]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",{staticClass:"text-right"},[e(r.a,{attrs:{small:"",color:"primary",to:"/admin/mail?id="+n.id}},[t._v("メール送信")])],1)])})),0)])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);