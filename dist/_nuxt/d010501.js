(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{532:function(e,t,n){var content=n(571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("6de667b7",content,!0,{sourceMap:!1})},570:function(e,t,n){"use strict";n(532)},571:function(e,t,n){var r=n(21)(!1);r.push([e.i,".v-card[data-v-922e5854]{width:80%;margin:30px auto}@media screen and (max-width:768px){.v-card[data-v-922e5854]{width:100%}}",""]),e.exports=r},601:function(e,t,n){"use strict";n.r(t);var r=n(536),o=n(209),c=n(461),l=n(452),d=n(579),m=n(197),v=n(166),h=n(580),f=n(478),_=n(530),w=(n(29),n(8),n(53),n(13)),x=(n(58),{layout:"ownerMenuBar",middleware:"ownerAuth",data:function(){return{areas:["東京都","大阪府","福岡県"],genres:["寿司","焼肉","居酒屋","イタリアン","ラーメン"],shop:{},haveNoStore:!1,alert:!1,shops:[],owner:[],name:"",area:"",genre:"",image:[],description:"",storeAvailable:!1}},methods:{getShopInformation:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/v1/owners").then((function(t){e.owner=t.data.owner,e.$axios.get("/api/v1/owners/".concat(e.owner.id,"/shops")).then((function(t){e.shop=t.data.shop[0],e.name=e.shop.name,e.area=e.shop.area.name,e.genre=e.shop.genre.name,e.description=e.shop.description,console.log(e.shop),e.shop&&(e.storeAvailable=!0)})).catch((function(t){e.haveNoStore=!0,console.log(t.response)}))})).catch((function(e){console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()},updateShop:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("image",t.image),r.append("owner_id",t.owner.id),r.append("name",t.name),r.append("area",t.area),r.append("genre",t.genre),r.append("description",t.description),o={header:{"Content-Type":"multipart/form-data"}},c="/api/v1/shops/"+e,n.next=11,t.$axios.put(c,r,o).then((function(e){t.getShopInformation(),t.image="",t.alert=!0})).catch((function(e){console.log(e.response)}));case 11:case"end":return n.stop()}}),n)})))()}},created:function(){if(this.getShopInformation(),this.$store.state.ownerAuth.owner_user){var e=this.$cookies.get("owner_token");this.$axios.defaults.headers.common.Authorization="Bearer ".concat(e)}}}),k=(n(570),n(61)),component=Object(k.a)(x,(function(){var e=this,t=e._self._c;return t("div",[t(c.a,[t(l.b,{staticClass:"align-center"},[e._v("\n      店舗情報設定\n      "),e.haveNoStore?t(o.a,{staticClass:"mb-3 ml-5 mt-2",attrs:{to:"/owner/shop/create",color:"primary"}},[t(m.a,[e._v("mdi-plus")]),e._v("店舗登録\n      ")],1):e._e()],1),e._v(" "),e.haveNoStore?t(l.a,[e._v("まだ店舗の登録はされていません。")]):e._e(),e._v(" "),e.alert?t(r.a,{attrs:{type:"success",color:"green",dismissible:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v("店舗情報を更新しました。")]):e._e(),e._v(" "),e.storeAvailable?t(l.a,[t("label",{attrs:{for:""}},[e._v("店舗名")]),e._v(" "),t(f.a,{staticClass:"mb-3",attrs:{outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),t("label",{attrs:{for:""}},[e._v("エリア")]),e._v(" "),t(h.a,{staticClass:"mb-3",attrs:{outlined:"",dense:"",items:e.areas},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}}),e._v(" "),t("label",{attrs:{for:""}},[e._v("ジャンル")]),e._v(" "),t(h.a,{staticClass:"mb-3",attrs:{outlined:"",dense:"",items:e.genres},model:{value:e.genre,callback:function(t){e.genre=t},expression:"genre"}}),e._v(" "),t("label",{attrs:{for:""}},[e._v("店舗画像変更")]),t("br"),e._v(" "),t(d.a,{staticClass:"mb-3",attrs:{outlined:"",dense:""},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),e._v(" "),t(v.a,{staticClass:"mt-5 mb-5",attrs:{src:"".concat(e.shop.image_url)}}),e._v(" "),t("label",{attrs:{for:""}},[e._v("店舗説明文")]),e._v(" "),t(_.a,{attrs:{outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),t("div",{staticClass:"text-center mt-3"},[t(o.a,{staticClass:"primary",attrs:{type:"submit"},on:{click:function(t){return e.updateShop(e.shop.id)}}},[e._v("店舗情報を更新")])],1)],1):e._e()],1)],1)}),[],!1,null,"922e5854",null);t.default=component.exports}}]);